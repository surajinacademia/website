/* would like to ignore ./src/pages/og-image/[slug].png.ts */
/* Photography portfolio theme: fonts loaded in BaseHead.astro */

@import "tailwindcss";
/* config for tailwindcss-typography plugin */
@config "../../tailwind.config.ts";

/* use a selector-based strategy for dark mode */
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

/* Photography portfolio: light default, dark matches JoaoFranco03/photography-portfolio */
@theme {
	--color-global-bg: oklch(99% 0 0);
	--color-global-text: oklch(20% 0 0);
	--color-link: oklch(45% 0.1 250);
	--color-accent: oklch(35% 0.08 260);
	--color-accent-2: oklch(15% 0 0);
	--color-quote: oklch(40% 0.06 260);
}

@layer base {
	html {
		color-scheme: light dark;
		accent-color: var(--color-accent);
		scrollbar-gutter: stable;
		font-family: "Signika", sans-serif;

		&[data-theme="light"] {
			color-scheme: light;
		}

		&[data-theme="dark"] {
			color-scheme: dark;
			/* Black bg, white/light gray text â€” photography-portfolio About Me */
			--color-global-bg: oklch(12% 0 0);
			--color-global-text: oklch(95% 0 0);
			--color-link: oklch(80% 0.05 250);
			--color-accent: oklch(88% 0 0);
			--color-accent-2: oklch(98% 0 0);
			--color-quote: oklch(85% 0.02 260);
		}
	}

	:target {
		scroll-margin-block: 5ex;
	}

	@view-transition {
		navigation: auto;
	}

	/* Astro image responsive styles, modified from -> https://docs.astro.build/en/guides/images/#responsive-image-styles */
	:where([data-astro-image]) {
		object-fit: var(--fit);
		object-position: var(--pos);
	}
	[data-astro-image="full-width"] {
		width: 100%;
	}
	[data-astro-image="constrained"] {
		max-width: 100%;
	}
}

@layer components {
	@import "./components/admonition.css";
	@import "./components/github-card.css";

	.cactus-link {
		@apply hover:decoration-link underline underline-offset-2 hover:decoration-2;
	}

	.title {
		@apply font-nothingyoucoulddo text-accent-2 text-2xl font-semibold;
	}

	/* Photography-portfolio: polaroid-style image frame (white border in dark, light gray in light) */
	.polaroid {
		@apply inline-block px-3 py-3 pb-6 shadow-xl;
		transform: rotate(-3deg);
		background-color: oklch(98% 0 0);
	}
	:where([data-theme="dark"]) .polaroid {
		background-color: oklch(98% 0 0);
	}
	.polaroid img {
		@apply border-0;
	}

	/* From JoaoFranco03/photography-portfolio src/input.css */
	.tap-highlight-transparent {
		-webkit-tap-highlight-color: transparent;
	}
	.smooth-edges {
		-webkit-backface-visibility: hidden;
	}
	.animate-wave {
		animation-name: wave;
		animation-duration: 2.5s;
		animation-iteration-count: infinite;
		transform-origin: 70% 70%;
		display: inline-block;
	}
	/* Portfolio gallery: fade-in on load, scale 110% on hover (photography-portfolio theme) */
	.animate-fade-in {
		animation-name: fade-in;
		animation-duration: 0.5s;
		animation-fill-mode: both;
	}
}
@keyframes fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}
@keyframes wave {
	0% {
		transform: rotate(0deg);
	}
	10% {
		transform: rotate(14deg);
	}
	20% {
		transform: rotate(-8deg);
	}
	30% {
		transform: rotate(14deg);
	}
	40% {
		transform: rotate(-4deg);
	}
	50% {
		transform: rotate(10deg);
	}
	60% {
		transform: rotate(0deg);
	}
	100% {
		transform: rotate(0deg);
	}
}

@utility prose {
	--tw-prose-body: var(--color-global-text);
	--tw-prose-bold: var(--color-global-text);
	--tw-prose-bullets: var(--color-global-text);
	--tw-prose-code: var(--color-global-text);
	--tw-prose-headings: var(--color-accent-2);
	--tw-prose-hr: 0.5px dashed #666;
	--tw-prose-links: var(--color-global-text);
	--tw-prose-quotes: var(--color-quote);
	--tw-prose-th-borders: #666;
}
